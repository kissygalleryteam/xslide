<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Basic Test Suite</title>
    <!-- <script src="http://g.tbcdn.cn/kissy/k/1.3.1/seed-min.js"></script> -->
    <script src="../node_modules/kissy/build/seed-min.js"></script>
    <!-- Load local QUnit. -->
    <link rel="stylesheet" href="../node_modules/grunt-contrib-qunit/test/libs/qunit.css" media="screen">
    <script src="../node_modules/grunt-contrib-qunit/test/libs/qunit.js"></script>
    <!-- Load local lib and tests. -->
    <script src="../dist/mock.js"></script>
    <script src="../node_modules/handlebars/dist/handlebars.js"></script>
    <script src="../dist/mock4tpl.js"></script>
    <script src="../dist/mock4xtpl.js"></script>
    <script src="mock4tpl.js"></script>
</head>
<body>
    <div id="qunit"></div>
    <div id="qunit-fixture"></div>

    <script type="text/javascript">
        function heredoc(f) {
            return f.toString()
                .replace(/^[^\/]+\/\*!?/, '')
                .replace(/\*\/[^\/]+$/, '')
                .trim();
        }

        KISSY.use('xtemplate', function(S, XTemplate){
            window.XTemplate = XTemplate
            return
            var tpl = '{{#each data}}{{name}}-{{xindex}}/{{xcount}}|{{/each}}';
            var ast = XTemplate.compiler.parse(tpl)
            console.log(JSON.stringify(ast, null, 4))
            console.log(JSON.stringify(Handlebars.parse(tpl), null, 4))
            var data = Mock4Tpl.mock(ast, null, {})
            console.log(JSON.stringify(data, null, 4));
        })
    </script>
</body>
</html>
